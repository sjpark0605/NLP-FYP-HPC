in a big skillet , melt butter over medium heat. add in the onion. cook , stirring often , until softened , about 3 minutes. add in apples and celery. cook / stir until the onions are golden brown , about 10 minutes. stir in walnuts and raisins. transfer the onion-apple mixture to a bowl. add in pumpernickel and rye bread cubes. toss , sprinkling with apple cider. gradually stir in about cup broth , until stuffing is evenly moistened but not soggy. season with salt and pepper to taste. transfer to a lightly buttered casserole dish , sprinkle with cup broth , cover , and bake in a preheated 350 oven for 30 minutes.